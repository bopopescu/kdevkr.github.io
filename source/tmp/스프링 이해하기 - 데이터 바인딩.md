---
title: 스프링 이해하기 - 데이터 바인딩
date: 2018-11-08 00:00:00
categories: [끄적끄적, Spring]
---

> 스프링 레퍼런스로 공부하기의 첫번째 이야기.
> 데이터 바인딩에 대해서 지금 시작합니다.  

## [Validation, Data Binding, and Type Conversion](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#validation)  
일단은 프로젝트를 시작하기에 앞서 요즈음 회사내 프로젝트에서 프론트와 서버 애플리케이션 간의 API 통신시 모델 데이터 바인딩이 제대로 되지 않아 오류가 발생하는 경우가 있어서 이에 대한 해결책을 아직 못찾았기 때문에 스프링 공식 문서를 확인해보겠습니다.  

스프링 프레임워크는 애플리케이션의 모든 계층에서 사용할 수 있도록 `Validator` 인터페이스를 제공합니다.  

데이터 바인딩은 사용자의 입력에 대해서 도메인 모델에 동적으로 바인딩하는데 유용합니다. 이를 스프링은 `DataBinder` 으로 적절하게 처리합니다.  

`Validator`와 `DataBinder`가 `Validation` 패키지를 구성하는데 주로 MVC 프레임워크에서 사용되지만 이에 국한되지는 않습니다.  

`BeanWrapper`는 스프링 프레임워크에서의 기본적인 개념이며 많은 곳에서 사용하고 있습니다. 하지만, 우리는 이 BeanWrapper를 직접적으로 사용할 필요는 없습니다.  

자바빈은 매개변수가 없는 기본 생성자와 함께 프로퍼티에 대한 getter, setter 메소드가 포함된 클래스입니다. `org.springframework.beans` 패키지는 이 자바빈을 고수합니다.  

이 패키지에서 꽤 중요한 클래스 중 하나는 `BeanWrapper`라는 인터페이스 입니다. `BeanWrapper`는 프로퍼티 값을 설정하거나 가져오는 역할을 하며 중첩된 프로퍼티에 대해서도 지원하고 하위 속성들에 대한 설정도 그 깊이에 제한이 없습니다.

#### 기본 및 중첩된 프로퍼티를 가져오거나 설정하는 것  
프로퍼티를 가져오거나 설정하는 것은 `setPropertyValue`, `setPropertyValues`, `getPropertyValue` 그리고 `getPropertyValues` 메소드를 사용하여 수행됩니다.

자바빈 스펙에는 프로퍼티를 지정하는 규칙이 있습니다.  
##### name  
`getName()` 또는 `isName()` 그리고 `setName()`에 해당하는 `name` 프로퍼티를 지칭합니다.  

##### account.name  
`getAccount().setName()` 또는 `getAccount.getName()` 에 해당하는 `account` 프로퍼티의 중첩된 `name` 프로퍼티를 지칭합니다.  

##### account[2]  
`account` 색인된 프로퍼티 중 3번째 요소를 지칭합니다. 색인된 프로퍼티는 `array`와 `list`와 같은 순서있는 컬렉션이 될 수 있습니다.  

##### account[COMPANYNAME]  
`account` 맵 형식 프로퍼티의 `COMPANYNAME` 키로 색인된 항목의 값을 지칭합니다.  

> BeanWrapper가 프로퍼티를 설정하고 가져오는지 알고 싶다면 [여기](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-beans-conventions)에서 확인하시기 바랍니다.  

#### Built-in PropertyEditor Implementations  
스프링 레퍼런스의 내장된 `PropertyEditor` 구현체에 대해서 읽어가다보면 다음과 같이 설명하고 있습니다.

> 스프링 MVC 프레임워크 안에서 HTTP 요청 파라미터를 분석하는 것은 모든 서브 클래스에서 수동으로 바인딩할 수 있는 모든 PropertyEditor 구현체를 사용하여 수행하게 된다.  

##### ClassEditor  
Parses Strings that represent classes to actual classes and vice-versa. When a class is not found, an IllegalArgumentException is thrown. By default, registered by BeanWrapperImpl.  

##### CustomCollectionEditor  
Property editor for collections, converting any source Collection to a given target Collection type.  

##### CustomDateEditor  
Customizable property editor for java.util.Date, supporting a custom DateFormat. NOT registered by default. Must be user-registered with the appropriate format as needed.  

##### FileEditor  
Resolves strings to java.io.File objects. By default, registered by BeanWrapperImpl.  

##### LocaleEditor  
Can resolve strings to Locale objects and vice-versa (the string format is [country][variant], same as the toString() method of Locale). By default, registered by BeanWrapperImpl.  

##### URLEditor  
Can resolve a string representation of a URL to an actual URL object. By default, registered by BeanWrapperImpl.  

#### 사용자 정의 PropertyEditor 구현체 등록하는 방법  

작성중...

## 참고  
- [Spring Framework Reference](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html)  

---
title: 잠만보 프로젝트 - 시작하기
date: 2099-11-09
categories: [프로젝트, 잠만보]
---

> spring-boot-snorlax 프로젝트를 위해서 저는 vuejs 설정을 빠르게 하기 위해 Vue CLI 3로 환경을 구성하였습니다.    

## 프로젝트 환경 구성 시작하기  
백엔드 애플리케이션은 `스프링 부트 프레임워크`를 메인으로 사용하고자 하며 프론트엔드 애플리케이션은` VueJS 프레임워크`를 기반으로 하고자 합니다.  

따라서, 스프링 부트 애플리케이션을 만들고 그 안에 VueJS를 넣기 위한 환경을 만들어보도록 하겠습니다.  

일반적으로는 VueJS 환경을 설정하기 위해서 `Webpack`을 설치하고 구성을 만든 뒤 VueJS를 위한 로더를 적용해야만 했습니다. 하지만 이제는 Vue CLI라는 것을 제공하여 굳이 Webpack을 따로 구성하지 않아도 쉽게 환경을 만들 수 있게 해줍니다.  

#### 설치  
Vue CLI는 3+ 부터 [`scoped package`](https://docs.npmjs.com/misc/scope)로 제공됩니다.  

```sh
npm i -g @vue/cli
```

#### 프론트엔드 환경 생성하기  
Vue.js 프로젝트 환경을 만들기 위하여 [`vue create`](https://cli.vuejs.org/guide/creating-a-project.html#vue-create) 명령을 사용해도 되지만 저는 [`GUI`](https://cli.vuejs.org/guide/creating-a-project.html#using-the-gui)를 이용해보겠습니다.  

> UI가 이쁘고 한국어도 자동으로 지원합니다.  

![](/images/vue/vue-cli-gui.gif)  

프로젝트가 성공적으로 만들어졌는데 해당 폴더를 살펴보면 어디에도 설정파일이 존재하지 않는 걸 확인할 수 있습니다. Vue CLI는 node_modules안에 자체적으로 설정파일을 가지고 있으며 이에 대한 `추상화`를 제공합니다.  

> 기본적인 구성을 자동으로 만들어준다고 해도 프로젝트에 맞게 설정하는 것은 당연히 필요한 부분입니다.

추상화를 이용하려면 [`vue.config.js`](https://cli.vuejs.org/config/#vue-config-js)를 만들거나 Vue UI를 통하여 프로젝트에 대한 설정을 하면 됩니다.  

#### 스프링 부트 프레임워크 리소스 경로 맞춤화  
기본적으로 스프링 부트 애플리케이션이 바라보는 리소스 경로는 Vue CLI가 기본적으로 리소스 파일들을 빌드해주는 경로와 다릅니다. 따라서, 우리는 Vue CLI를 커스터마이징해서 스프링 부트 애플리케이션의 리소스 경로로 빌드된 파일을 저장하도록 하겠습니다.  

[`common-application-properties`](https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)  
```properties
# application.properties  
spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/
```

`vue.config.js`
```js
module.exports = {
  indexPath: 'index.html',
  baseUrl: '/',
  outputDir: '../src/main/resources/static/',

  pages: {
    index: {
      entry: 'src/main.js',
      template:  '../src/main/resources/templates/index.html',
      filename: 'index.html'
    }
  }
}
```

위 옵션 중 `pages`가 기존 웹팩을 설정할때의 엔트리 포인트에 대응된다고 보면 됩니다. 그리고 `outputDir`이 빌드된 파일이 저장될 위치입니다.  

```sh
npm run build
```

그러면 빌드 명령어를 호출하면 다음과 같이 빌드된 파일이 위치하게 됩니다.  
![](/images/spring/spring-boot-resource-locations.png)

#### 스프링 부트 타임리프 템플릿 엔진 맞춤화  
리소스 경로 뿐만 아니라 스프링 부트는 다양한 템플릿 엔진을 제공하는데 만약, 타임리프 템플릿 엔진을 사용한다면 만들어진 html의 위치도 잡아주어야 합니다.  

이 위치가 기본적으로는 `classpath:/templates` 이지만 Vue CLI에 의해 빌드된 .html 파일들은 `classpath:/static`에 위치하고 있습니다.  

따라서, 우리는 스프링 부트가 제공하는 타임리프 옵션 중 접두사를 변경하면 됩니다.  

```
spring.thymeleaf.prefix=classpath:/static/
```

이제 스프링 부트 애플리케이션을 구동 후 인덱스 페이지를 호출해보면 다음과 같이 Vue CLI가 만들어준 Hello World 화면을 볼 수 있습니다.  

![](/images/spring/spring-boot-start-index.png)  

다음 포스트에서는 `API 통신 간 도메인 모델 바인딩 방식` 및 `검증`, `에러 메시지 처리`에 대한 설정을 해보겠습니다.  

## 참고  
- [SPRING INITIALIZR](https://start.spring.io/)  
- [Vue CLI 3에서의 Webpack 설정](https://lovemewithoutall.github.io/it/vue-cli-3-webpack/)  
- [Spring Boot Common Application Properties](https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)  

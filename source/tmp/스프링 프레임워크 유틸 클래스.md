---
title: 스프링 프레임워크 유틸 클래스
date: 2018-07-05 00:00:00
categories: [Java, Spring]
tags:
---

# Introduce Util Classes In Spring    
> 이 포스트는 스프링 프레임워크가 제공하는 몇 가지의 유틸성 클래스들을 소개합니다.  

## Configure DataSource  
> DataSource를 지정하는 여러가지 방법을 소개합니다.  

### Default DataSource   
```java
@Bean
public DataSource dataSource() {
  DataSource dataSource = new org.apache.tomcat.jdbc.pool.DataSource();
  dataSource.setUrl();
  dataSource.setUsername();
  dataSource.setPassword();
  return dataSource;
}
```

### DataSourceBuilder  
> 직접 DataSource를 구성하는 위 방법과 달리 `DataSourceBuilder`는 Properties를 이용하여 간단하게 DataSource를 구성할 수 있습니다.

```java
@Bean
@Primary
@ConfigurationProperties(prefix = "spring.datasource")
public DataSource dataSource() {
    return DataSourceBuilder.create().build();
}
```

### DataSourceProperties  
> 만약 DataSource를 여러가지 등록해놓고 구성하고 싶다면 `DataSourceProperties`가 좋은 해결책을 줄 수 있습니다.  

```java
@Bean
@ConfigurationProperties(prefix = "spring.datasource.tomcat")
public DataSourceProperties dataSourcePropertiesTomcat() {
    return new DataSourceProperties();
}

@Bean
@ConfigurationProperties(prefix = "spring.datasource.tomcat")
public DataSource tomcatDataSource() {
    return dataSourcePropertiesTomcat().initializeDataSourceBuilder().create().type(org.apache.tomcat.jdbc.pool.DataSource.class).build();
}
```

## EmbeddedDatabaseBuilder  
> 임베디드 데이터베이스용 DataSource를 만들 수 있는 `EmbeddedDatabaseBuilder`도 제공합니다.  

```java
@Bean
public DataSource dataSource() {
	EmbeddedDatabaseBuilder embeddedDatabaseBuilder = new EmbeddedDatabaseBuilder();
	EmbeddedDatabase embeddedDatabase = embeddedDatabaseBuilder
		.setType(EmbeddedDatabaseType.H2)
		.addScript("**.sql") // initail-script
		.build();
	return embeddedDatabase;
}
```


# Configure a Jackson ObjectMapper  

## Jackson2ObjectMapperBuilder  
> `Jackson2ObjectMapperBuilder` provides fluent APIs to configure which features will be enabled or disabled for serialization and deserialization  

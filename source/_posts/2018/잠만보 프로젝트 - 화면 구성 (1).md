---
title: 잠만보 프로젝트 - 화면 구성 (1)
date: 2099-11-28
categories: [프로젝트, 잠만보]
---

## 개요  
이제 잠만보 프로젝트를 본격적으로 시작하도록 해봅시다. 잠만보 프로젝트는 kdevkr 만의 블로그 시스템을 만드는 것입니다. Hexo를 사용하다보니 방문자수 또는 페이지뷰에 대한 제공이 어려워서 기능을 넣기가 참 싫었습니다.

#### Electron  
[`Electron`](https://electronjs.org/docs/tutorial/about)은 Javascript, HTML, CSS를 이용해서 크로스 플랫폼 데스크탑 앱을 만들 수 있는 오픈소스 라이브러리입니다. 잠만보 애플리케이션도 기본적으로는 데스크탑 앱으로 제공해보면 어떨까 생각이 들었습니다. 마침 Electron와 Vue를 결합한 [`electron-vue`](https://simulatedgreg.gitbooks.io/electron-vue/content/en/)를 알게 되었습니다.  

```sh
npm install -g vue-cli
vue init simulatedgreg/electron-vue snorlax-electron-vue
```

electron-vue는 vue-cli의 webpack과 프로젝트 구조가 비슷하기 때문에 이해하는데 어려움은 없었습니다. 다만, electron-packager와 electron-builder 중에 electron-builder를 선택했습니다.  

> We need to make sure our native npm modules are built against electron. To do that, we can use electron-rebuild, but to make things simpler, it is highly recommended to use electron-builder for your build tool as a lot of these tasks are handled for you.  

#### Electron Configuration  
electron-vue의 설정 파일은 .electron-vue 폴더 내에 존재하게 됩니다. 하지만 저는 별다른 설정을 할 필요가 없을 것 같네요 엔트리 파일로 가봅시다. 사실 일렉트론 앱이 웹앱으로 구성되기 때문에 기존에 프론트엔드 웹을 만들때와 동일하게 작업하시면 됩니다.  

기본적으로 제공해준 것은 그대로 냅두고 잠만보 프론트엔드 애플리케이션을 만들때 사용하기 위해서 알아두었던 라이브러리들을 추가해줍시다.  

```js  
import VueSidebarMenu from 'vue-sidebar-menu'
import { VueContext } from 'vue-context'
import VueMarkdown from 'vue-markdown'
import MavonEditor from 'mavon-editor'
import { library } from '@fortawesome/fontawesome-svg-core'
import { fas } from '@fortawesome/free-solid-svg-icons'
import { fab } from '@fortawesome/free-brands-svg-icons'
import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'
import Tabs from 'vue-tabs-component'

library.add(fas, fab)
Vue.component('fontawesome-icon', FontAwesomeIcon)
Vue.use(VueSidebarMenu)
Vue.component('vue-context', VueContext)
Vue.use(VueMarkdown)
Vue.use(MavonEditor)
Vue.use(Tabs)
```

이외에도 참고에 나열한 라이브러리들을 사용할 수도 있을 것 같습니다. 나머지는 필요할 때 추가하도록 합시다.  

#### 라우팅  
이제 블로그 시스템에서 제공해야할 기본적인 메뉴를 구성해보도록 하겠습니다. 메뉴 표현은 [`vue-sidebar-menu`](https://github.com/yaminncco/vue-sidebar-menu)로 하려고 합니다. 만들어지지 한달 된 컴포넌트인데 꽤 단순하게 표현되는 것 같아서 선택하였습니다.

> 메뉴에 대한 이벤트 콜백은 없기 때문에 추후 필요시 커스텀해보고 풀 리퀘스트도 한번 날려보아도 될 것 같아요  

```js
export default new Router({
    mode: 'history',
    routes: [{
            name: 'root',
            path: '/',
            component: require('@/components/home-page').default
        }, {
            name: 'categories',
            path: '/:1stMenu(categories)',
            component: require('@/components/post/post-list').default,
            children: [{
                path: ':category',
                component: require('@/components/post/post-list').default,
            }]
        },
        {
            name: 'calendar',
            path: '/:1stMenu(calendar)',
            component: require('@/components/calendar/calendar').default
        },
        {
            path: '/sign-in',
            component: require('@/components/support/sign-in').default
        }, {
            path: '/about',
            component: require('@/components/support/about').default
        }
    ]
})
```

일단은 간단하게 구성해보았습니다. 기본적으로 보여질 루트 페이지와 로그인, 카테고리 별 포스트, 캘린더, 어바웃 페이지까지 만들어 봅시다.  

![](/images/snorlax-project/03.png)  
![](/images/snorlax-project/04.png)  

```js  
menu: [{
        header: true,
        title: 'Snorlax'
    },
    {
        href: '/',
        title: 'Home',
        icon: 'fas fa-home'
    },
    {
        href: '/categories',
        title: 'Categories',
        icon: 'fas fa-folder',
        child: [{
                href: '/java',
                title: 'Java',
                icon: 'fab fa-java'
            },
            {
                href: '/vuejs',
                title: 'VueJS',
                icon: 'fab fa-vuejs'
            }
        ]
    },
    {
        href: '/about',
        title: 'About',
        icon: 'fas fa-user'
    }
]
```

그리고 잠만보를 표현하는 색상으로 저만 메뉴를 표현하도록 다음과 같이 설정하였습니다. 아직 SCSS를 제대로 몰라서 CSS 표현이 너무 길어졌네요ㅠㅠ  
```css  
.v-sidebar-menu {
    background-color: map-get($snorlax, 'outer-skin') !important;
    &.vsm-default {
        .collapse-btn {
        }
        .vsm-dropdown {
          .vsm-list {
            padding: 0 !important;

            .vsm-item {
              .vsm-link {
                padding: 10px 30px !important;
                background-color: map-get($snorlax, 'outer-skin-deep') !important;
                  .vsm-icon {
                      background-color: transparent !important;
                  }
                  &:hover {
                      background-color: map-get($snorlax, 'outer-skin-deep') !important;
                  }
              }
              &.active-item {
                  > .vsm-link {
                      box-shadow: none !important;
                      background-color: map-get($snorlax, 'beam') !important;
                  }
                  * {
                    color: map-get($snorlax, 'outer-skin') !important;
                  }
              }
            }
          }
        }
    }
    &.vsm-collapsed {
        .collapse-btn {
            left: auto;
        }
        .vsm-item {
          &.mobile-item {
            &.parent-active-item {
              .vsm-link {
                background-color: map-get($snorlax, 'outer-skin-deep') !important;
              }
            }
          }
        }
        .vsm-dropdown {
          padding: 0 !important;
          .vsm-list {
            padding: 0 !important;
            background-color: map-get($snorlax, 'outer-skin-deep') !important;
            .vsm-item {
              .vsm-link {
                padding: 10px 20px !important;
                background-color: map-get($snorlax, 'outer-skin') !important;
                &:hover {
                    background-color: map-get($snorlax, 'outer-skin-deep') !important;
                }
              }
              &.active-item {
                > .vsm-link {
                    box-shadow: none !important;
                    background-color: map-get($snorlax, 'beam') !important;
                    * {
                      color: map-get($snorlax, 'outer-skin') !important;
                    }
                }
              }
              &.open-item {
                .vsm-link {
                  background-color: map-get($snorlax, 'outer-skin-deep') !important;
                }
              }
            }
          }
        }
    }
    .vsm-mobile-bg {
        background-color: map-get($snorlax, 'outer-skin') !important;
    }
    .collapse-btn {
        background-color: map-get($snorlax, 'outer-skin') !important;
        &:hover {
            background-color: map-get($snorlax, 'outer-skin-deep') !important;
        }
    }
    .vsm-list {
      background-color: map-get($snorlax, 'outer-skin') !important;
        .vsm-item {
            &.active-item, &.parent-active-item {
                > .vsm-link {
                    box-shadow: inset 5px 0 0 0 map-get($snorlax, 'beam') !important;
                    background-color: map-get($snorlax, 'outer-skin-deep') !important;
                }
                &.open-item {
                  .vsm-link {
                    box-shadow: none !important;
                  }
                }
            }
            .vsm-link {
                .vsm-icon {
                    background-color: transparent !important;
                }
                &:hover {
                    background-color: map-get($snorlax, 'outer-skin-deep') !important;
                }
            }
            &.open-item {
              .vsm-link {
                background-color: map-get($snorlax, 'outer-skin-deep') !important;
              }
            }
        }
    }
}
```

오늘은 여기까지만 해야겠습니다. 다음 포스트에는 포스트 목록과 어바웃 페이지를 구성해보도록 하겠습니다.  

## 참고  
- https://github.com/SimulatedGREG/electron-vue  
- https://github.com/eliep/vue-avatar  
- https://github.com/miaolz123/vue-markdown  
- https://github.com/hinesboy/mavonEditor  
- https://github.com/GeoffZhu/vue-event-calendar  
- https://github.com/victorsferreira/vue-session  
- https://github.com/f/vue-wait  
- https://github.com/hilongjw/vue-progressbar  
- https://github.com/se-panfilov/vue-notifications  
- https://github.com/euvl/vue-js-modal  
- https://gitlab.com/robcresswell/vue-material-design-icons    
- https://github.com/Justineo/vue-awesome
- https://github.com/AshleyLv/vue-quick-menu  
- https://github.com/mbj36/vue-burger-menu  
- https://github.com/surmon-china/vue-awesome-swiper  
